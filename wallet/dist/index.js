module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=38)}([function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),u=n(68),f=n(36),p=n(1),d=n(31),l=n(12),h=n(32),y=n(13),b=n(33),_=n(14),v=n(34),m=n(7),w=n(35),g=f.AbiUtil.abiParams,O=f.AbiUtil.AbiType,P=f.AbiUtil.getAbiParams,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.participate=function(t){return a(this,void 0,void 0,function(){var e,n,r,o,i;return c(this,function(a){switch(a.label){case 0:return e=P(this,"participate"),n={from:this.ethEngine.configuration.defaultWallet},console.log("ETH TOKEN PARTICIPATE PARAMS: ",t),r=parseFloat(t.amount),[4,this.approve(p.TokenConfig.AtomicSwap.contractAddress,r)];case 1:return o=a.sent(),[4,this.ethEngine.callFunction("participate",[t.secretHash,t.address,this.contractAddress,r],n,m.EthConfirmation.RECEIPT,e,p.TokenConfig.AtomicSwap.contractAddress)];case 2:return i=a.sent(),console.log("ETH TOKEN PARTICIPATE RESPONSE: ",i),[2,new y.EthParticipateData(i.blockHash,i.blockNumber,i.contractAddress,i.cumulativeGasUsed,i.from,i.gasUsed,i.logsBloom,i.status,i.to,i.transactionHash,i.transactionIndex)]}})})},e.prototype.initiate=function(t){return a(this,void 0,void 0,function(){var e,n,r,o,i,a,u;return c(this,function(c){switch(c.label){case 0:return e=P(this,"initiate"),n=s.SecretGenerator.generateSecret(),r=-1===n.secretHash.indexOf("0x")?"0x"+n.secretHash:n.secretHash,o={from:this.ethEngine.configuration.defaultWallet},console.log("ETH TOKEN INITIATE PARAMS: ",t),i=parseFloat(t.amount),[4,this.approve(p.TokenConfig.AtomicSwap.contractAddress,i)];case 1:return a=c.sent(),[4,this.ethEngine.callFunction("initiate",[r,t.address,this.contractAddress,i],o,m.EthConfirmation.RECEIPT,e,p.TokenConfig.AtomicSwap.contractAddress).then(function(t){return console.log("ETH TOKEN INITIATE RESPONSE: ",t),new d.EthInitiateData(n.secret,n.secretHash,t.blockHash,t.blockNumber,t.contractAddress,t.cumulativeGasUsed,t.from,t.gasUsed,t.logsBloom,t.status,t.to,t.transactionHash,t.transactionIndex)})];case 2:return u=c.sent(),[2,u]}})})},e.prototype.refund=function(t){return a(this,void 0,void 0,function(){var e,n,r;return c(this,function(o){switch(o.label){case 0:return e=P(this,"refund"),n={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("refund",[t],n,m.EthConfirmation.RECEIPT,e,p.TokenConfig.AtomicSwap.contractAddress)];case 1:return r=o.sent(),[2,r]}})})},e.prototype.redeem=function(t){return a(this,void 0,void 0,function(){var e,n,r;return c(this,function(o){switch(o.label){case 0:return e=P(this,"redeem"),n={from:this.ethEngine.configuration.defaultWallet},console.log("ETH TOKEN REDEEM PARAMS: ",t),[4,this.ethEngine.callFunction("redeem",[t.secret,t.hashedSecret],n,m.EthConfirmation.RECEIPT,e,p.TokenConfig.AtomicSwap.contractAddress)];case 1:return r=o.sent(),console.log("ETH TOKEN REDEEM RESPONSE: ",r),[2,new _.EthRedeemData(t.secret,t.hashedSecret)]}})})},e.prototype.extractSecret=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return e={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("swaps",[t],e,m.EthConfirmation.STATIC,u.TokenAtomicSwapAbi,p.TokenConfig.AtomicSwap.contractAddress).then(function(t){return new l.EthExtractSecretData})];case 1:return[2,n.sent()]}})})},o([g({stateMutability:"payable"},{},{_hashedSecret:O.bytes20},{_initiator:O.address},{_token:O.address},{_amount:O.uint256}),i("design:type",Function),i("design:paramtypes",[b.EthParticipateParams]),i("design:returntype",Promise)],e.prototype,"participate",null),o([g({stateMutability:"payable"},{},{_hashedSecret:O.bytes20},{_participant:O.address},{_token:O.address},{_amount:O.uint256}),i("design:type",Function),i("design:paramtypes",[h.EthInitiateParams]),i("design:returntype",Promise)],e.prototype,"initiate",null),o([g({},{},{_hashedSecret:O.bytes20}),i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",Promise)],e.prototype,"refund",null),o([g({stateMutability:"payable"},{},{_secret:O.bytes32},{_hashedSecret:O.bytes20}),i("design:type",Function),i("design:paramtypes",[v.EthRedeemParams]),i("design:returntype",Promise)],e.prototype,"redeem",null),e}(w.ERC20);e.TokenAtomicSwap=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenConfig={AtomicSwap:{code:"",contractAddress:"0xe18c6E2D9ca2D79B6a6Cd9aEea89ae766ec68cbf"},Augur:{code:"",contractAddress:"0x9a8a7c6e621210930fC9141664Fc26C1F9763cD9"},Golem:{code:"",contractAddress:"0xdf849b2dc5222c371a1d01bed80db7e820b8b9ef"},Gnosis:{code:"",contractAddress:"0x16fc24d47faadea9e0fff584b8aa0f6c10fa57f2"},Bat:{code:"",contractAddress:"0xa68F6F87d792c7574E976e1dBBd6BFb1E79e896e"},Aragon:{code:"",contractAddress:"0x35114d6332be1dde993fb17ec5bce49b6df4a59f"},Eos:{code:"",contractAddress:"0x97269fb3516f2b7788c53654f26cf3e084455fa9"},Salt:{code:"",contractAddress:"0xad0c6a909b9281dccf764e33aa630325b9474f2b"},Civic:{code:"",contractAddress:"0x23b108040f96ea4438203f72f406ed77a3751df4"},OmiseGo:{code:"",contractAddress:"0x823bdfa3d9b20ee5055ce3013dcad7abb9858e9c"},District0x:{code:"",contractAddress:"0xaa45686cd61764b28057ce64b8c4d996e213e90c"},StatusNetwork:{code:"",contractAddress:"0x7ca06cb1c9f580ae692721d2287272d7dd2ceb66"},Substratum:{code:"",contractAddress:"0xbe8143c77bf98d157029c683c775b94d197082eb"},Tron:{code:"",contractAddress:"0xc91ff79c34000cc2261bbd9a403b457eb19606e2"},Bytom:{code:"",contractAddress:"0xc17d4d034b1a3ddb87b2870ed1741539609e7a40"},Dent:{code:"",contractAddress:"0x058ee34abac40e592cbc5dc2c303ae917cb7e2de"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenConfigMain={AtomicSwap:{code:"",contractAddress:""},Augur:{code:"",contractAddress:"0xe94327d07fc17907b4db788e5adf2ed424addff6"},Golem:{code:"",contractAddress:"0xa74476443119A942dE498590Fe1f2454d7D4aC0d"},Gnosis:{code:"",contractAddress:"0x6810e776880c02933d47db1b9fc05908e5386b96"},Bat:{code:"",contractAddress:"0x0D8775F648430679A709E98d2b0Cb6250d2887EF"},Aragon:{code:"",contractAddress:"0xf0498f54e449e18de67cc1239ee4007cc2cb9366"},Eos:{code:"",contractAddress:"0x86fa049857e0209aa7d9e616f7eb3b3b78ecfdb0"},Salt:{code:"",contractAddress:"0x4156D3342D5c385a87D264F90653733592000581"},Civic:{code:"",contractAddress:"0x41e5560054824eA6B0732E656E3Ad64E20e94E45"},OmiseGo:{code:"",contractAddress:"0xd26114cd6EE289AccF82350c8d8487fedB8A0C07"},District0x:{code:"",contractAddress:"0x0abdace70d3790235af448c88547603b945604ea"},StatusNetwork:{code:"",contractAddress:"0x744d70fdbe2ba4cf95131626614a1763df805b9e"},Substratum:{code:"",contractAddress:"0x12480e24eb5bec1a9d4369cab6a80cad3c0a377a"},Tron:{code:"",contractAddress:"0xf230b790e05390fc8295f4d3f60332c93bed42e2"},Bytom:{code:"",contractAddress:"0xcb97e65f07da24d46bcdd078ebebd7c6e6e3d750"},Dent:{code:"",contractAddress:"0x3597bfd533a99c9aa083587b074434e61eb0a258"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17);e.ExtractSecretData=r.ExtractSecretData;var o=n(18);e.ExtractSecretParams=o.ExtractSecretParams;var i=n(19);e.InitiateData=i.InitiateData;var a=n(20);e.InitiateParams=a.InitiateParams;var c=n(21);e.ParticipateData=c.ParticipateData;var s=n(22);e.ParticipateParams=s.ParticipateParams;var u=n(23);e.RedeemData=u.RedeemData;var f=n(9);e.RedeemParams=f.RedeemParams;var p=n(24);e.RefundData=p.RefundData;var d=n(10);e.RefundParams=d.RefundParams},function(t,e){t.exports=require("bitcore")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(41),i=n(42);!function(t){t[t.Ripemd160=0]="Ripemd160",t[t.Hash160=1]="Hash160"}(r=e.AlgoTypes||(e.AlgoTypes={}));var a=function(){function t(t,e){this.secret=t,this.secretHash=e}return t}();e.SecretResult=a;var c=function(){function t(){}return t.prototype.hash=function(t){return(new o).update(t).digest("hex")},t.prototype.buffer=function(t){return(new o).update(t).digest()},t}();e.Ripemd160=c;var s=function(){function t(){}return t.prototype.hash=function(t){var e=i.createHash("sha256").update(t).digest();return(new o).update(e).digest("hex")},t.prototype.buffer=function(t){var e=i.createHash("sha256").update(t).digest();return(new o).update(e).digest()},t}();e.Hash160=s;var u=function(){function t(){}return t.generateSecret=function(t){void 0===t&&(t=r.Ripemd160);var e;t===r.Ripemd160?e=new c:t===r.Hash160&&(e=new s);var n=i.randomBytes(32),o=n.toString("hex"),u=e.hash(n);return new a(o,u)},t}();e.SecretGenerator=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43);e.BtcExtractSecretData=r.BtcExtractSecretData;var o=n(44);e.BtcExtractSecretParams=o.BtcExtractSecretParams;var i=n(25);e.BtcInitiateData=i.BtcInitiateData;var a=n(45);e.BtcInitiateParams=a.BtcInitiateParams;var c=n(46);e.BtcParticipateData=c.BtcParticipateData;var s=n(47);e.BtcParticipateParams=s.BtcParticipateParams;var u=n(48);e.BtcRedeemData=u.BtcRedeemData;var f=n(49);e.BtcRedeemParams=f.BtcRedeemParams;var p=n(26);e.BtcRefundData=p.BtcRefundData;var d=n(50);e.BtcRefundParams=d.BtcRefundParams;var l=n(51);e.BtcAtomicSwapData=l.BtcAtomicSwapData},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(62),c=n(8),s=n(4),u=s.HDPrivateKey;!function(t){t[t.RECEIPT=0]="RECEIPT",t[t.CONFIRMATION=1]="CONFIRMATION",t[t.STATIC=2]="STATIC"}(i=e.EthConfirmation||(e.EthConfirmation={}));var f=function(){function t(t,e,n){this.abiConfiguration=t,this.configuration=e,this.bin=n,this.maxThreads=20,this.firstBlockNumber=1909e3;var r=new a.providers.WebsocketProvider(e.wshost);this.web3=new a(r),this.web3.defaultAccount=e.defaultWallet,t&&(this.contract=new this.web3.eth.Contract(t,e.contractAddress))}return t.prototype.isListening=function(){return 0===this.web3.currentProvider.connection.readyState||1===this.web3.currentProvider.connection.readyState},t.prototype.createAccount=function(t){var e=this.web3.eth.accounts,n=e.create();return{wallet:n,keystore:n.encrypt(t,{n:256})}},t.prototype.login=function(t){return this.configuration.defaultWallet=t.address,this.web3.eth.accounts.wallet.add(t),this.web3.eth.defaultAccount=t.address,t},t.prototype.getBalance=function(t){var e=this;return this.web3.eth.getBalance(t).bind(this).then(function(t){return e.web3.utils.fromWei(t,"ether")})},t.prototype.sendAllEther=function(t,e){return r(this,void 0,void 0,function(){var n,r,i,a;return o(this,function(o){switch(o.label){case 0:return[4,this.getBalance(this.web3.eth.defaultAccount)];case 1:return n=o.sent(),[4,this.web3.eth.getGasPrice()];case 2:return r=o.sent(),[4,this.web3.eth.estimateGas({from:this.web3.eth.defaultAccount,to:e,amount:n})];case 3:return i=o.sent(),[4,this.web3.eth.signTransaction({from:this.web3.eth.defaultAccount,gasPrice:r,gas:i,gasLimit:2*i,to:e,value:n-i*r*2,data:""},t)];case 4:return a=o.sent(),[2,this.web3.eth.sendSignedTransaction(a.rawTransaction)]}})})},t.prototype.sendEther=function(t,e){return r(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:return n=this.web3.utils.toWei(e,"ether"),[4,this.web3.eth.getGasPrice()];case 1:return r=o.sent(),[4,this.web3.eth.estimateGas({from:this.web3.eth.defaultAccount,to:t,amount:n})];case 2:return i=o.sent(),[4,this.web3.eth.sendTransaction({from:this.web3.eth.defaultAccount,gasPrice:r,gas:i,gasLimit:2*i,to:t,value:n})];case 3:return[2,o.sent()]}})})},t.prototype.getContractCode=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.web3.eth.getCode(t)];case 1:return[2,e.sent()]}})})},t.prototype.callFunction=function(t,e,n,a,c,s){return r(this,void 0,void 0,function(){var r,u,f,p,d,l,h,y,b;return o(this,function(o){switch(o.label){case 0:return a=void 0===a?0:a,r=null,u=null,f=null,p=this.isMethodPayable(t,void 0===c?this.abiConfiguration:c),c&&s?p?[4,this.getContractCode(s)]:[3,2]:[3,3];case 1:u=o.sent(),o.label=2;case 2:return r=new this.web3.eth.Contract(c,s),f=this.configuration.defaultWallet,[3,4];case 3:f=this.abiConfiguration.defaultWallet,u=this.bin.code,r=new this.web3.eth.Contract(this.abiConfiguration,this.configuration.contractAddress),o.label=4;case 4:return void 0===n.gas&&p?[4,this.web3.eth.estimateGas({data:u,to:f})]:[3,6];case 5:d=o.sent(),n.gas=d,n.gasLimit=2*d,o.label=6;case 6:return l=(b=r.methods)[t].apply(b,e),[4,this.web3.eth.getGasPrice()];case 7:return h=o.sent(),[4,l.estimateGas(n)];case 8:return y=o.sent(),n.gas=y,n.gasLimit=2*y,n.gasPrice=h,[2,new Promise(function(t,e){try{switch(a){case i.RECEIPT:l.send(n).on("receipt",function(e){t(e)}).catch(function(t){e(t)});break;case i.CONFIRMATION:l.send(n).on("confirmation",function(e,n){n.confNumber=e,t(n)}).catch(function(t){e(t)});break;case i.STATIC:l.call(n,function(n,r){n?e(n):t(r)})}}catch(t){e(t)}})]}})})},t.prototype.recoverAccount=function(t){var e=new u(t),n=e.privateKey.toString();return this.web3.eth.accounts.privateKeyToAccount("0x"+n)},t.prototype.toWei=function(t,e){return this.web3.utils.toWei(t,e)},t.prototype.fromWeiToEther=function(t){return this.web3.utils.fromWei(t,"ether")},t.prototype.isMethodPayable=function(t,e){for(var n in e)if(e[n].name===t)return"nonpayable"!==e[n].stateMutability;return!1},t.prototype.getTransactionList=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.getTransactionsFromBlockCypher(t)];case 1:return[2,e.sent()]}})})},t.prototype.scanBlockRange=function(t,e,n){return r(this,void 0,void 0,function(){var i,a,c=this;return o(this,function(s){return i=this,a=[],[2,new Promise(function(s,u){return r(c,void 0,void 0,function(){function r(n){var r=e-t,o=n-t;return Math.floor(o/r*100)}function c(t,e){if(t.to===i.web3.defaultAccount){var n=i.web3.utils.fromWei(t.value,"ether"),r="\r"+e.timestamp+" +"+n+" from "+t.from;a.push(r)}else if(t.from===i.web3.defaultAccount){var n=i.web3.utils.fromWei(t.value,"ether"),r="\r"+e.timestamp+" -"+n+" to "+t.to;a.push(r)}}function u(){if(0==--h){var r=1+e-t,o=new Date,i=(o.getTime()-y.getTime())/1e3,c=Math.floor(r/i),u="Scanned to block "+e+" ("+r+" in "+i+" seconds; "+c+" blocks/sec).",f=u.length,p=process.stdout.columns-f,d=Array(1+p).join(" ");process.stdout.write("\r"+u+d+"\n"),n&&n(l,e)}return s(a),h}function f(t){if(t.transactions)for(var e=0,n=t.transactions;e<n.length;e++){var r=n[e],o=r;c(o,t)}}function p(){if(l)return u();if(d>e)return u();var t=d++;if(t%i.maxThreads==0||t===e){var n=r(t);process.stdout.write("\rScanning block "+t+" - "+n+" %")}i.web3.eth.getBlock(t,!0,function(t,e){t?l=!0:(f(e),p())})}var d,l,h,y,b;return o(this,function(n){switch(n.label){case 0:return e?[3,2]:[4,i.web3.eth.getBlockNumber()];case 1:e=n.sent(),n.label=2;case 2:if(t||(t=e-10),t>e)return[2,-1];for(d=t,l=!1,h=0,y=new Date,b=0;b<i.maxThreads&&t+b<=e;b++)h++,p();return[2,b]}})})})]})})},t.prototype.getFeeFromBlockCypher=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,c.default.get("https://api.blockcypher.com/v1/btc/test3")];case 1:return t=e.sent(),[2,t.data.result.medium_fee_per_kb]}})})},t.prototype.getTransactionsFromBlockCypher=function(t,e){return void 0===e&&(e="50"),r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return[4,c.default.get("https://api.blockcypher.com/v1/beth/test/addrs/"+t+"/full?limit="+e)];case 1:return n=r.sent(),[2,n.data]}})})},t}();e.EthEngine=f},function(t,e){t.exports=require("axios")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.secret=t,this.hashedSecret=e}return t}();e.RedeemParams=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.RefundParams=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BtcRpcConfiguration={protocol:"https",user:"bedrock",pass:"bedrock",host:"swap.altcoin.io",port:"8014",network:"testnet"}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.ExtractSecretData);e.EthExtractSecretData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=function(t){function e(e,n,r,o,i,a,c,s,u,f,p){var d=t.call(this)||this;return d.blockHash=e,d.blockNumber=n,d.contractAddress=r,d.cumulativeGasUsed=o,d.from=i,d.gasUsed=a,d.logsBloom=c,d.status=s,d.to=u,d.transactionHash=f,d.transactionIndex=p,d}return r(e,t),e}(o.ParticipateData);e.EthParticipateData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.RedeemData);e.EthRedeemData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39);e.BitcoinWallet=r.BitcoinWallet;var o=n(57);e.FreshBitcoinWallet=o.FreshBitcoinWallet;var i=n(58);e.RegenerateBitcoinWallet=i.RegenerateBitcoinWallet},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),c=n(5),s=n(5),u=n(6),f=n(52),p=n(27),d=n(53),l=n(28),h=n(11),y=a.Transaction,b=a.Address,_=a.PrivateKey,v=a.Script,m=a.Buffer,w=function(t){function e(e){var n=t.call(this,e)||this;return n.retryTimeout=1e4,"testnet"===e&&(n.configuration=h.BtcRpcConfiguration),n}return r(e,t),e.prototype.initiate=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,6]),e=s.SecretGenerator.generateSecret(),n=l.Util.getUnixTimeFor2Days(),console.log("BTC INITIATE, BUILDING CONTRACT..."),[4,this.buildContract(t.address,t.amount,n,e.secretHash,t.privKey)];case 1:return r=i.sent(),console.log("CONTRACT BUILT, PUBLISHING TRANSACTION.."),[4,this.publishTx(r.contractTx.toString())];case 2:return o=i.sent(),console.log("TRANSACTION PUBLISHED, RETURNING.."),[2,new u.BtcInitiateData(r.contractFee,r.contractP2SH.toString(),r.contract.toHex(),r.contractTx.hash,r.contractTx.toString(),o,e.secret,e.secretHash)];case 3:return a=i.sent(),console.log("ERROR INVOKING INITIATE: ",t,a),[4,this.wait(this.retryTimeout)];case 4:return i.sent(),[4,this.initiate(t)];case 5:return[2,i.sent()];case 6:return[2]}})})},e.prototype.participate=function(t){return o(this,void 0,void 0,function(){var e,n,r,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,6]),e=l.Util.getUnixTimeFor2Days(),[4,this.buildContract(t.address,t.amount,e,t.secretHash,t.privateKey)];case 1:return n=i.sent(),[4,this.publishTx(n.contractTx.toString())];case 2:return r=i.sent(),[2,new u.BtcParticipateData(n.contractFee,n.contractP2SH.toString(),n.contract.toHex(),n.contractTx.hash,n.contractTx.toString(),r)];case 3:return o=i.sent(),console.log("ERROR INVOKING PARTICIPATE: ",t,o),[4,this.wait(this.retryTimeout)];case 4:return i.sent(),[4,this.participate(t)];case 5:return[2,i.sent()];case 6:return[2]}})})},e.prototype.redeem=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a,c,s,f,d,h,m,w,g,O,P,T,S,A,E,x,k,C,M,R,j,B,I,D,N,H;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,7,,10]),e=new v(t.contractBin),n=p.BtcContractBuilder.extractAtomicSwapContract(t.contractBin),console.log("BTC REDEEM PARAMS: ",t),!n)throw new Error("contract is not an atomic swap script recognized by this tool");for(r=new y(t.contractTx),o=n.recipientHash.replace("0x",""),a=l.Util.NewAddressPubKeyHash(o,"testnet"),c=l.Util.NewAddressScriptHash(t.contractBin,this.configuration.network),s=-1,f=0;f<r.outputs.length;f++)if(d=new v(r.outputs[f].script),h=d.toAddress(this.configuration.network),(m=h.toJSON().hash)===c.toJSON().hash){s=f;break}return-1===s?[2]:(w=_.fromWIF(t.privKey),g=w.toPublicKey().toAddress(this.configuration.network),O=new b(g),P=v.buildPublicKeyHashOut(O),T=new y,S=y.Output({script:P,satoshis:0}),T.addOutput(S),[4,this.getFeePerKb()]);case 1:return A=i.sent(),E=l.Util.EstimateRedeemSerializeSize(e,T.outputs),x=1e8*l.Util.FeeForSerializeSize(A,E),k=r.outputs[s].satoshis-x,S=y.Output({script:P,satoshis:Math.round(k)}),T.removeOutput(0),T.addOutput(S),C=y.Input({prevTxId:r.id,outputIndex:s,script:new v(r.outputs[s].script)}),T.uncheckedAddInput(C),M=0,[4,p.BtcContractBuilder.createSig(T,M,e,a,t.privKey)];case 2:R=i.sent(),j=R.sig,B=R.pubKey,I=p.BtcContractBuilder.redeemP2SHContract(e.toHex(),j.toTxFormat(),B.toString(),t.secret),T.inputs[0].setScript(I),D=null,i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.publishTx(T.toString())];case 4:return D=i.sent(),[3,6];case 5:throw N=i.sent();case 6:return[2,new u.BtcRedeemData(t.secret,t.hashedSecret,T.toString(),D)];case 7:return H=i.sent(),console.log("ERROR INVOKING REDEEM: ",t,H),[4,this.wait(this.retryTimeout)];case 8:return i.sent(),[4,this.redeem(t)];case 9:return[2,i.sent()];case 10:return[2]}})})},e.prototype.extractSecret=function(t){return o(this,void 0,void 0,function(){var e,n,r;return i(this,function(o){return e=new y(t.redemptionTx),n=l.Util.flatMap(e.toJSON().inputs.map(function(t){return new v(t.scriptString).toString().split(" ").filter(function(t){return-1!==t.indexOf("0x")}).map(function(t){return t.replace("0x","")})})),r=n.find(function(e){return(new c.Ripemd160).buffer(m.from(e,"hex"))===t.hashedSecret}),[2,r]})})},e.prototype.refund=function(t){},e.prototype.auditContract=function(t,e){return o(this,void 0,void 0,function(){var n,r,o,a,c,s,u,d,h,b,_,m,w,g=this;return i(this,function(i){if(n=new v(t),r=n.toScriptHashOut(),o=r.toAddress(),a=o.toJSON().hash,c=new y(e),!(s=c.toJSON().outputs.find(function(t){return new v(t.script).toAddress(g.configuration.network).toJSON().hash===a})))throw new Error("transaction does not contain the secret");return u=p.BtcContractBuilder.extractAtomicSwapContract(t),d=u.recipientHash.replace("0x",""),h=l.Util.NewAddressPubKeyHash(d,this.configuration.network),b=u.refundHash160.replace("0x",""),_=l.Util.NewAddressPubKeyHash(b,this.configuration.network),m=l.Util.NewAddressScriptHash(t,this.configuration.network).toString(),w=s.satoshis/1e8+" BTC",[2,new f.BtcAuditContractData(m,w,h.toString(),_.toString(),u.secretHash.replace("0x",""),new Date(1e3*u.lockTime))]})})},e.prototype.wait=function(t){return o(this,void 0,void 0,function(){var e=this;return i(this,function(n){return[2,new Promise(function(n,r){setTimeout(function(){return o(e,void 0,void 0,function(){return i(this,function(t){return n(!0),[2]})})},t)})]})})},e}(d.BtcTransaction);e.BtcAtomicSwap=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.ExtractSecretData=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.ExtractSecretParams=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.secret=t,this.secretHash=e}return Object.defineProperty(t.prototype,"participateData",{get:function(){return this.secretHash},enumerable:!0,configurable:!0}),t}();e.InitiateData=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.InitiateParams=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.ParticipateData=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.ParticipateParams=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this.secret=t,this.secretHash=e,this.contractBin=n,this.contractTx=r}return t}();e.RedeemData=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.RefundData=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r,o,i,a,c,s){var u=t.call(this,c,s)||this;return u.fee=e,u.contract=n,u.contractHex=r,u.contractTx=o,u.contractTxHex=i,u.rawTx=a,u}return r(e,t),e}(o.InitiateData);e.BtcInitiateData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n){var r=t.call(this)||this;return r.refundFee=e,r.refundTx=n,r}return r(e,t),e}(o.RefundData);e.BtcRefundData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(6),i=r.Script,a=r.Opcode,c=r.Transaction,s=r.PrivateKey,u=function(){function t(t,e){this.configuration=e}return t.extractAtomicSwapContract=function(t){var e=new i(t),n=e.toString().split(" "),r=n.filter(function(t){return-1===t.indexOf("0x")});if(new a(r[0]).toString()!==new a(a.OP_IF).toString()||new a(r[1]).toString()!==new a(a.OP_RIPEMD160).toString()||20!==parseInt(r[2])||new a(r[3]).toString()!==new a(a.OP_EQUALVERIFY).toString()||new a(r[4]).toString()!==new a(a.OP_DUP).toString()||new a(r[5]).toString()!==new a(a.OP_HASH160).toString()||20!==parseInt(r[6])||new a(r[7]).toString()!==new a(a.OP_ELSE).toString()||!parseInt(r[8])||new a(r[9]).toString()!==new a(a.OP_CHECKLOCKTIMEVERIFY).toString()||new a(r[10]).toString()!==new a(a.OP_DROP).toString()||new a(r[11]).toString()!==new a(a.OP_DUP).toString()||new a(r[12]).toString()!==new a(a.OP_HASH160).toString()||20!==parseInt(r[13])||new a(r[14]).toString()!==new a(a.OP_ENDIF).toString()||new a(r[15]).toString()!==new a(a.OP_EQUALVERIFY).toString()||new a(r[16]).toString()!==new a(a.OP_CHECKSIG).toString())throw new Error("contract is not an atomic swap script!");var c=n.filter(function(t){return-1!==t.indexOf("0x")}),s=c[0],u=c[1],f=c[2].replace("0x",""),p=c[3];return new o.BtcAtomicSwapData(s,u,f,p)},t.atomicSwapContract=function(t,e,n,r){var o=new i;return o.add(a.OP_IF),o.add(a.OP_RIPEMD160),o.add(new Buffer(r,"hex")),o.add(a.OP_EQUALVERIFY),o.add(a.OP_DUP),o.add(a.OP_HASH160),o.add(new Buffer(e,"hex")),o.add(a.OP_ELSE),o.add(new Buffer(function(t){return t<0&&(t=4294967295+t+1),t.toString(16).toUpperCase()}(function(t){var e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t),Array.from(new Uint32Array(e))}(n)[0]),"hex")),o.add("OP_CHECKLOCKTIMEVERIFY"),o.add(a.OP_DROP),o.add(a.OP_DUP),o.add(a.OP_HASH160),o.add(new Buffer(t,"hex")),o.add(a.OP_ENDIF),o.add(a.OP_EQUALVERIFY),o.add(a.OP_CHECKSIG),o},t.redeemP2SHContract=function(t,e,n,r){var o=new i;return o.add(e),o.add(new Buffer(n,"hex")),o.add(new Buffer(r,"hex")),o.add(a.OP_1),o.add(new Buffer(t,"hex")),o},t.refundP2SHContract=function(t,e,n,r){var o=new i;return o.add(new Buffer(e)),o.add(new Buffer(n,"hex")),o.add(a.OP_0),o.add(new Buffer(t,"hex")),o},t.createSig=function(t,e,n,r,o){var i=o,a=new s(i);return{sig:c.Sighash.sign(t,a,1,e,n),pubKey:a.toPublicKey()}},t}();e.BtcContractBuilder=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(4),i=o.encoding.Base58Check,a=o.Address,c=function(){function t(){}return t.getUnixTimeFor2Days=function(){return t.getCurrentUnixTime()},t.flatMap=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},t.NewAddressPubKeyHash=function(t,e){var n;n="testnet"===e?Buffer.from([111]):Buffer.from([0]);var r=Buffer.from(t,"hex"),o=Buffer.concat([n,r],21),c=i.encode(o);return a.fromString(c)},t.NewAddressScriptHash=function(t,e){var n;n="testnet"===e?Buffer.from([196]):Buffer.from([5]);var o=new r.Hash160,c=Buffer.from(t,"hex"),s=o.buffer(c),u=Buffer.concat([n,s],21),f=i.encode(u);return a.fromString(f)},t.VarIntSerializeSize=function(t){return t<253?1:t<=65535?3:t<=4294967295?5:9},t.InputSize=function(e){return 36+t.VarIntSerializeSize(e)+e+4},t.SumOutputSerializeSizes=function(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=r[n].toBufferWriter().toBuffer().length}return e},t.EstimateRedeemSerializeSize=function(e,n){var r=e.toBuffer().length;return 12+t.VarIntSerializeSize(1)+t.VarIntSerializeSize(n.length)+t.InputSize(t.redeemAtomicSwapSigScriptSize+r)+t.SumOutputSerializeSizes(n)},t.EstimateRefundSerializeSize=function(e,n){var r=e.toBuffer().length;return 12+t.VarIntSerializeSize(1)+t.VarIntSerializeSize(n.length)+t.InputSize(t.refundAtomicSwapSigScriptSize+r)+t.SumOutputSerializeSizes(n)},t.FeeForSerializeSize=function(t,e){return t*e/1024},t.getCurrentUnixTime=function(t){void 0===t&&(t=0);var e=new Date;return e.setDate(e.getDate()+t),parseInt((e.getTime()/1e3).toFixed(0),10)},t.redeemAtomicSwapSigScriptSize=142,t.refundAtomicSwapSigScriptSize=109,t}();e.Util=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=function(t){function e(e,n,r,o,i,a,c,s,u,f,p,d,l){var h=t.call(this,e,n)||this;return h.secret=e,h.secretHash=n,h.blockHash=r,h.blockNumber=o,h.contractAddress=i,h.cumulativeGasUsed=a,h.from=c,h.gasUsed=s,h.logsBloom=u,h.status=f,h.to=p,h.transactionHash=d,h.transactionIndex=l,h}return r(e,t),e}(o.InitiateData);e.EthInitiateData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.RefundData);e.EthRefundData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);e.EthExtractSecretData=r.EthExtractSecretData;var o=n(66);e.EthExtractSecretParams=o.EthExtractSecretParams;var i=n(29);e.EthInitiateData=i.EthInitiateData;var a=n(32);e.EthInitiateParams=a.EthInitiateParams;var c=n(13);e.EthParticipateData=c.EthParticipateData;var s=n(33);e.EthParticipateParams=s.EthParticipateParams;var u=n(14);e.EthRedeemData=u.EthRedeemData;var f=n(34);e.EthRedeemParams=f.EthRedeemParams;var p=n(30);e.EthRefundData=p.EthRefundData;var d=n(67);e.EthRefundParams=d.EthRefundParams},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.refundTime=e,o.address=n,o.amount=r,o}return r(e,t),e}(o.InitiateParams);e.EthInitiateParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r,o,i){var a=t.call(this)||this;return a.refundTime=e,a.secretHash=n,a.address=r,a.amount=o,a.privateKey=i,a}return r(e,t),e}(o.ParticipateParams);e.EthParticipateParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),i=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.extendedParams=r,o}return r(e,t),e}(o.RedeemParams);e.EthRedeemParams=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var c=n(36),s=n(7),u=c.AbiUtil.abiParams,f=c.AbiUtil.AbiType,p=c.AbiUtil.getAbiParams,d=function(){function t(t,e){this.contractAddress=t,this.ethEngine=e}return t.prototype.totalSupply=function(){return 0},t.prototype.balanceOf=function(t){return i(this,void 0,void 0,function(){var e,n,r;return a(this,function(o){switch(o.label){case 0:return e=p(this,"balanceOf"),n={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("balanceOf",[t],n,s.EthConfirmation.STATIC,e,this.contractAddress)];case 1:return r=o.sent(),[2,this.ethEngine.fromWeiToEther(r)]}})})},t.prototype.transfer=function(t,e){return i(this,void 0,void 0,function(){var n,r,o;return a(this,function(i){switch(i.label){case 0:return n=p(this,"transfer"),r={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("transfer",[t,e],r,s.EthConfirmation.CONFIRMATION,n,this.contractAddress)];case 1:return o=i.sent(),[2,o]}})})},t.prototype.transferFrom=function(t,e,n){return i(this,void 0,void 0,function(){var r,o,i;return a(this,function(a){switch(a.label){case 0:return r=p(this,"transferFrom"),o={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("transferFrom",[t,e,n],o,s.EthConfirmation.CONFIRMATION,r,this.contractAddress)];case 1:return i=a.sent(),[2,i]}})})},t.prototype.approve=function(t,e){return i(this,void 0,void 0,function(){var n,r,o;return a(this,function(i){switch(i.label){case 0:return n=p(this,"approve"),r={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("approve",[t,e],r,s.EthConfirmation.CONFIRMATION,n,this.contractAddress)];case 1:return o=i.sent(),[2,o]}})})},t.prototype.allowance=function(t,e){return i(this,void 0,void 0,function(){var n,r,o;return a(this,function(i){switch(i.label){case 0:return n=p(this,"allowance"),r={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("allowance",[t,e],r,s.EthConfirmation.STATIC,n,this.contractAddress)];case 1:return o=i.sent(),[2,o]}})})},t.prototype.faucet=function(){return i(this,void 0,void 0,function(){var t,e,n;return a(this,function(r){switch(r.label){case 0:return t=p(this,"faucet"),e={from:this.ethEngine.configuration.defaultWallet},[4,this.ethEngine.callFunction("faucet",[],e,s.EthConfirmation.CONFIRMATION,t,this.contractAddress)];case 1:return n=r.sent(),[2,n]}})})},r([u({},{"":f.uint256}),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Number)],t.prototype,"totalSupply",null),r([u({},{balance:f.uint256},{_owner:f.address}),o("design:type",Function),o("design:paramtypes",[String]),o("design:returntype",Promise)],t.prototype,"balanceOf",null),r([u({stateMutability:"payable"},{"":f.bool},{_to:f.address},{_value:f.uint256}),o("design:type",Function),o("design:paramtypes",[String,Number]),o("design:returntype",Promise)],t.prototype,"transfer",null),r([u({stateMutability:"payable"},{"":f.bool},{_from:f.uint256},{_to:f.address},{_value:f.uint256}),o("design:type",Function),o("design:paramtypes",[String,String,Number]),o("design:returntype",Promise)],t.prototype,"transferFrom",null),r([u({stateMutability:"payable"},{"":f.bool},{_spender:f.address},{_value:f.uint256}),o("design:type",Function),o("design:paramtypes",[String,Number]),o("design:returntype",Promise)],t.prototype,"approve",null),r([u({},{"":f.uint256},{_owner:f.address},{_spender:f.address}),o("design:type",Function),o("design:paramtypes",[String,String]),o("design:returntype",Promise)],t.prototype,"allowance",null),r([u({stateMutability:"payable"},{},{}),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],t.prototype,"faucet",null),t}();e.ERC20=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){var e;!function(t){t[t.uint=0]="uint",t[t.uint256=1]="uint256",t[t.address=2]="address",t[t.bool=3]="bool",t[t.bytes32=4]="bytes32",t[t.bytes20=5]="bytes20"}(e=t.AbiType||(t.AbiType={})),t.abiParams=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return function(o,i,a){var c={};c.inputs=[],c.constant=void 0!==t.constant&&t.constant,c.outputs=[],c.name=i,c.type=void 0===t.type?"function":t.type,c.payable=void 0!==t.payable&&t.payable,c.stateMutability=void 0===t.stateMutability?"nonpayable":t.stateMutability,r&&r.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&c.inputs.push({name:n,type:e[t[n]]})});for(var s in n)n.hasOwnProperty(s)&&c.outputs.push({name:s,type:e[n[s]]});var u=[];u.push(c),Reflect.defineMetadata("abiParams",u,o,i)}},t.getAbiParams=function(t,e){return Reflect.getMetadata("abiParams",t,e)}}(e.AbiUtil||(e.AbiUtil={}))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Augur.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.AugurTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Augur.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.AugurTokenMainnet=s},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(15)),r(n(59)),r(n(3)),r(n(69)),r(n(6));var o=n(70);e.generateMnemonic=o.generateMnemonic,r(n(72)),r(n(88))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),c=n(4),s=n(40),u=n(16),f=n(11),p=n(56),d=c.HDPrivateKey,l=c.PrivateKey,h=function(t){function e(e){void 0===e&&(e="testnet");var n=t.call(this,e)||this;return"testnet"===e&&(n.btcConfiguration=p.BtcConfiguration,n.btcRpcConfiguration=f.BtcRpcConfiguration),n}return r(e,t),Object.defineProperty(e.prototype,"hdPrivateKey",{get:function(){return this.hierarchicalPrivateKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WIF",{get:function(){return this.hierarchicalPrivateKey.privateKey.toWIF()},enumerable:!0,configurable:!0}),e.prototype.getbalance=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.default.get("https://chain.so/api/v2/get_address_balance/BTCTEST/"+t).then(function(t){return t.data.data.confirmed_balance})];case 1:return[2,e.sent()]}})})},e.prototype.recover=function(t){this.hierarchicalPrivateKey=new d(t.code)},e.prototype.create=function(t){if(!s.isValid(t.code))throw Error("Not valid mnemonic code");this.code=new s(t.code),this.generateHDPrivateKey(t.password)},e.prototype.generateAddressFromWif=function(t){return t||(t=this.WIF),new l(t).toPublicKey().toAddress(this.btcConfiguration.network).toString()},e.prototype.generateHDPrivateKey=function(t){console.log(t),this.hierarchicalPrivateKey=this.code.toHDPrivateKey(t,this.btcRpcConfiguration.network)},e}(u.BtcAtomicSwap);e.BitcoinWallet=h},function(t,e){t.exports=require("bitcore-mnemonic")},function(t,e){t.exports=require("ripemd160")},function(t,e){t.exports=require("crypto-browserify")},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.ExtractSecretData);e.BtcExtractSecretData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.ExtractSecretParams);e.BtcExtractSecretParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r,o,i){var a=t.call(this)||this;return a.refundTime=e,a.privKey=n,a.address=r,a.amount=o,a.extendedParams=i,a}return r(e,t),e}(o.InitiateParams);e.BtcInitiateParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.BtcInitiateData);e.BtcParticipateData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.ParticipateParams);e.BtcParticipateParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.redeemTx=r,i.rawTx=o,i}return r(e,t),e}(o.RedeemData);e.BtcRedeemData=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),i=function(t){function e(e,n,r,o,i){var a=t.call(this,n,r)||this;return a.privKey=e,a.contractBin=o,a.contractTx=i,a}return r(e,t),e}(o.RedeemParams);e.BtcRedeemParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.RefundParams);e.BtcRefundParams=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this.secretHash=t,this.recipientHash=e,this.lockTime=n,this.refundHash160=r}return t}();e.BtcAtomicSwapData=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o,i){this.contractSH=t,this.contractValue=e,this.recipientAddress=n,this.refundAddress=r,this.secretHash=o,this.lockTime=i}return t}();e.BtcAuditContractData=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),a=n(54),c=n(4),s=n(6),u=n(55),f=n(27),p=n(28),d=n(11),l=c.Transaction.UnspentOutput,h=c.PrivateKey,y=c.Transaction,b=c.Address,_=c.Script,v=c.encoding.BufferReader,m=function(){function t(t){"testnet"===t&&(this.configuration=d.BtcRpcConfiguration,this.rpc=new a(d.BtcRpcConfiguration))}return t.prototype.callRPCProc=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return n=this.configuration.protocol+"://"+this.configuration.user+":"+this.configuration.pass+"@"+this.configuration.host+":"+this.configuration.port,[4,i.default.post(n,{rpcuser:this.configuration.user,rpcpassword:this.configuration.pass,method:t,params:e},{auth:{username:this.configuration.user,password:this.configuration.pass}})];case 1:return[2,r.sent()]}})})},t.prototype.buildContract=function(t,e,n,i,a){return r(this,void 0,void 0,function(){var r,c,s,d,l,v,m,w,g,O,P,T,S,A,E,x;return o(this,function(o){switch(o.label){case 0:return r=h.fromWIF(a),c=r.toPublicKey().toAddress(this.configuration.network),s=new b(t),d=f.BtcContractBuilder.atomicSwapContract(c.toJSON().hash,s.toJSON().hash,n,i),l=p.Util.NewAddressScriptHash(d.toHex(),this.configuration.network),v=_.buildScriptHashOut(l),m=new y,w=Math.round(1e8*e),g=y.Output({script:v,satoshis:w}),m.addOutput(g),[4,this.fundTransaction(c,m)];case 1:for(o.sent(),O=m.getSignatures(a),P=0,T=O;P<T.length;P++)S=T[P],m.applySignature(S);return A=m.hash,E=m._getInputAmount()-m._getOutputAmount(),[4,this.buildRefund(d.toHex(),m.toString(),a)];case 2:return x=o.sent(),[2,new u.BtcAtomicSwapContractData(d,l,v,A,m,E,x.refundFee,x.refundTx)]}})})},t.prototype.buildRefund=function(t,e,n){return r(this,void 0,void 0,function(){var r,i,a,c,u,d,l,h,m,w,g,O,P,T,S,A,E,x,k,C,M,R,j,B,I,D,N;return o(this,function(o){switch(o.label){case 0:if(r=new _(t),!(i=f.BtcContractBuilder.extractAtomicSwapContract(t)))throw new Error("contract is not an atomic swap script recognized by this tool");for(a=new y(e),c=i.refundHash160.replace("0x",""),u=p.Util.NewAddressPubKeyHash(c,"testnet"),d=p.Util.NewAddressScriptHash(t,this.configuration.network),l=-1,h=0;h<a.outputs.length;h++)if(m=new _(a.outputs[h].script),w=m.toAddress(this.configuration.network),(g=w.toJSON().hash)===d.toJSON().hash){l=h;break}if(-1===l)throw new Error("transaction does not contain a contract output");return[4,this.getChangeAddress()];case 1:return O=o.sent(),console.log("addr initiation",O),P=new b(O.data.result),console.log("addr initiation"),T=_.buildPublicKeyHashOut(P),console.log("0 initiation"),S=new y,A=new v(i.lockTime).readUInt32LE(),S.lockUntilDate(A),console.log("1 initiation"),E=y.Output({script:T,satoshis:0}),S.addOutput(E),[4,this.getFeePerKb()];case 2:if(x=o.sent(),k=p.Util.EstimateRefundSerializeSize(r,S.outputs),C=1e8*p.Util.FeeForSerializeSize(x,k),(M=a.outputs[l].satoshis-C)&&M<0)throw new Error("Transaction amount is too small!");return console.log("2 initiation",M,a.outputs[l].satoshis,C),E=y.Output({script:T,satoshis:Math.round(M)}),S.removeOutput(0),S.addOutput(E),R=y.Input({prevTxId:a.id,outputIndex:l,sequenceNumber:0,script:new _(a.outputs[l].script)}),console.log("3 initiation"),S.uncheckedAddInput(R),j=0,[4,f.BtcContractBuilder.createSig(S,j,r,u,n)];case 3:return B=o.sent(),I=B.sig,D=B.pubKey,console.log("4 initiation"),N=f.BtcContractBuilder.refundP2SHContract(r.toHex(),I.toTxFormat(),D.toString(),""),S.inputs[0].setScript(N),[2,new s.BtcRefundData(C,S)]}})})},t.prototype.publishTx=function(t){return r(this,void 0,void 0,function(){var e=this;return o(this,function(n){return[2,new Promise(function(n,r){e.rpc.sendRawTransaction(t,function(t,e){t?(console.log("ERROR PUBLISHING TRANSACTION: ",t),r(new Error(JSON.stringify(t)))):n(e.result)})})]})})},t.prototype.getRawChangeAddress=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.callRPCProc("getrawchangeaddress",[])];case 1:return[2,t.sent()]}})})},t.prototype.fundRawTransaction=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this.callRPCProc("getrawchangeaddress",[t,{feeRate:e}])];case 1:return[2,n.sent()]}})})},t.prototype.estimateFee=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.callRPCProc("estimatesmartfee",[6])];case 1:return[2,t.sent()]}})})},t.prototype.getUnspentOutputs=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return e=1,n="https://chain.so/api/v2/get_tx_unspent/BTCTEST/"+t+"/"+e,[4,i.default.get(n)];case 1:return r=o.sent(),[2,r.data.data.txs]}})})},t.prototype.fundTransaction=function(t,e){return r(this,void 0,void 0,function(){var n,r,i,a,c,s;return o(this,function(o){switch(o.label){case 0:return[4,this.getUnspentOutputs(t.toString())];case 1:for(n=o.sent(),r=0,i=n;r<i.length&&(a=i[r],c=Math.round(1e8*a.value),s=new l({txId:a.txid,outputIndex:a.output_no,address:t,script:a.script_hex,satoshis:c}),e.from(s),!(e._getOutputAmount()<e._getInputAmount()));r++);if(e._getOutputAmount()>e._getInputAmount())throw new Error("insufficent funds");return e.change(t),[2,e]}})})},t.prototype.getChangeAddress=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,this.getRawChangeAddress()];case 1:return t=e.sent(),[2,t]}})})},t.prototype.getFeePerKb=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,.0045]})})},t.prototype.getTransactionList=function(t,e,n){return void 0===e&&(e=99999),void 0===n&&(n=0),r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return[4,this.callRPCProc("listtransactions",["*",e,n])];case 1:return r=o.sent(),0!==r.data.result.length?[3,3]:[4,this.getTransactionsFromBlockCypher(t)];case 2:return[2,o.sent()];case 3:return[2]}})})},t.prototype.calculateFee=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,this.getFeeFromBlockCypher()];case 1:return t=e.sent(),[2,t.high_fee_per_kb/1e8]}})})},t.prototype.getFeeFromBlockCypher=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,i.default.get("https://api.blockcypher.com/v1/btc/test3")];case 1:return t=e.sent(),[2,t.data]}})})},t.prototype.getTransactionsFromBlockCypher=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,i.default.get("https://api.blockcypher.com/v1/btc/test3/addrs/"+t+"/full?limit=50")];case 1:return e=n.sent(),[2,e.data]}})})},t}();e.BtcTransaction=m},function(t,e){t.exports=require("bitcoind-rpc")},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(26),i=function(t){function e(e,n,r,o,i,a,c,s){var u=t.call(this,c,s)||this;return u.contract=e,u.contractP2SH=n,u.contractP2SHPkScript=r,u.contractTxHash=o,u.contractTx=i,u.contractFee=a,u}return r(e,t),e}(o.BtcRefundData);e.BtcAtomicSwapContractData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BtcConfiguration={protocol:"https",user:"bedrock",pass:"bedrock",host:"swap.altcoin.io",port:"8014",network:"testnet"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){void 0===e&&(e=""),this.code=t,this.password=e}return t}();e.FreshBitcoinWallet=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.code=t,this.password=e}return t}();e.RegenerateBitcoinWallet=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(60)),r(n(31)),r(n(7)),r(n(35)),r(n(0))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var a=n(61),c=function(t){function e(e){void 0===e&&(e="testnet");var n=t.call(this,e)||this;return n.walletAddress=void 0,n}return r(e,t),e.prototype.login=function(t){var e=this.engine.login(t);return e.address.length>2&&(this.walletAddress=e.address.slice(2)),e},e.prototype.create=function(t){return this.engine.createAccount(t)},e.prototype.recover=function(t){return this.engine.recoverAccount(t)},e.prototype.getbalance=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.engine.getBalance(t)];case 1:return[2,e.sent()]}})})},e.prototype.sendAllEther=function(t,e){return this.engine.sendAllEther(t,e)},e.prototype.isWebSocketAlive=function(){return this.engine.isListening()},e}(a.EthAtomicSwap);e.EthereumWallet=c},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),c=n(12),s=n(29),u=n(13),f=n(14),p=n(30),d=n(7),l=n(63),h=n(64),y=n(65),b=function(){function t(t){"testnet"===t&&(this.abiConfiguration=l.AtomicSwapAbi,this.appConfiguration=y.EthConfiguration.hosts[0],this.bin=h.AtomicSwapBin),this.engine=new d.EthEngine(this.abiConfiguration,this.appConfiguration,this.bin)}return t.prototype.initiate=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,c;return i(this,function(i){switch(i.label){case 0:return e=a.SecretGenerator.generateSecret(),n=t.refundTime,r=-1===e.secretHash.indexOf("0x")?"0x"+e.secretHash:e.secretHash,o=t.address,c={from:this.appConfiguration.defaultWallet,value:this.engine.toWei(t.amount,"ether")},[4,this.engine.callFunction("initiate",[n,r,o],c).then(function(t){return new s.EthInitiateData(e.secret,e.secretHash,t.blockHash,t.blockNumber,t.contractAddress,t.cumulativeGasUsed,t.from,t.gasUsed,t.logsBloom,t.status,t.to,t.transactionHash,t.transactionIndex)})];case 1:return[2,i.sent()]}})})},t.prototype.participate=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return e=t.refundTime,n=t.secretHash,r=t.address,o={from:this.appConfiguration.defaultWallet,value:this.engine.toWei(t.amount,"ether")},console.log("ETH PARTICIPATE PARAMS: ",t),[4,this.engine.callFunction("participate",[e,n,r],o)];case 1:return a=i.sent(),console.log("ETH PARTICIPATE RESPONSE: ",a),[2,new u.EthParticipateData(a.blockHash,a.blockNumber,a.contractAddress,a.cumulativeGasUsed,a.from,a.gasUsed,a.logsBloom,a.status,a.to,a.transactionHash,a.transactionIndex)]}})})},t.prototype.redeem=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return e=t.secret,n=t.hashedSecret,r=t.extendedParams,o={from:this.appConfiguration.defaultWallet},console.log("ETH REDEEM PARAMS: ",t,this),[4,this.engine.callFunction("redeem",[e,n],o)];case 1:return a=i.sent(),console.log("ETH REDEEM RESPONSE: ",a),[2,new f.EthRedeemData(e,n)]}})})},t.prototype.extractSecret=function(t){return o(this,void 0,void 0,function(){var e,n,o;return i(this,function(i){switch(i.label){case 0:return e=t.hashedSecret,n=t.extendedParams,o=r({from:this.appConfiguration.defaultWallet},n),[4,this.engine.callFunction("swaps",[e],o,d.EthConfirmation.STATIC).then(function(t){return new c.EthExtractSecretData})];case 1:return[2,i.sent()]}})})},t.prototype.refund=function(t){return o(this,void 0,void 0,function(){var e,n,o;return i(this,function(i){return e=t.hashedSecret,n=t.extendedParams,o=r({from:this.appConfiguration.defaultWallet},n),[2,this.engine.callFunction("refund",[e],o).then(function(t){return new p.EthRefundData})]})})},t.prototype.sendEther=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.engine.sendEther(t,e)];case 1:return[2,n.sent()]}})})},t.prototype.fromWeiToEther=function(t){return this.engine.fromWeiToEther(t)},t.prototype.toWei=function(t,e){return this.engine.toWei(t,e)},t}();e.EthAtomicSwap=b},function(t,e){t.exports=require("web3/src")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicSwapAbi=[{constant:!1,inputs:[{name:"_refundTime",type:"uint256"},{name:"_hashedSecret",type:"bytes20"},{name:"_initiator",type:"address"}],name:"participate",outputs:[],payable:!0,type:"function"},{constant:!1,inputs:[{name:"_hashedSecret",type:"bytes20"}],name:"refund",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_secret",type:"bytes32"},{name:"_hashedSecret",type:"bytes20"}],name:"redeem",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_refundTime",type:"uint256"},{name:"_hashedSecret",type:"bytes20"},{name:"_participant",type:"address"}],name:"initiate",outputs:[],payable:!0,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes20"}],name:"swaps",outputs:[{name:"initTimestamp",type:"uint256"},{name:"refundTime",type:"uint256"},{name:"hashedSecret",type:"bytes20"},{name:"secret",type:"bytes32"},{name:"initiator",type:"address"},{name:"participant",type:"address"},{name:"value",type:"uint256"},{name:"emptied",type:"bool"},{name:"state",type:"uint8"}],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"_refundTime",type:"uint256"}],name:"Refunded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_redeemTime",type:"uint256"}],name:"Redeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_initiator",type:"address"},{indexed:!1,name:"_participator",type:"address"},{indexed:!1,name:"_hashedSecret",type:"bytes20"},{indexed:!1,name:"_value",type:"uint256"}],name:"Participated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_initTimestamp",type:"uint256"},{indexed:!1,name:"_refundTime",type:"uint256"},{indexed:!1,name:"_hashedSecret",type:"bytes20"},{indexed:!1,name:"_participant",type:"address"},{indexed:!1,name:"_initiator",type:"address"},{indexed:!1,name:"_funds",type:"uint256"}],name:"Initiated",type:"event"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicSwapBin={code:"0x6060604052341561000f57600080fd5b5b5b5b61093a806100216000396000f300606060405263ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166327f10ee081146100695780635a8f9b811461008f5780637ec27ba1146100b1578063eb8ae1ed146100d6578063f325cc91146100fc575b600080fd5b61008d6004356001606060020a031960243516600160a060020a0360443516610193565b005b341561009a57600080fd5b61008d6001606060020a0319600435166102dc565b005b34156100bc57600080fd5b61008d6004356001606060020a0319602435166104ba565b005b61008d6004356001606060020a031960243516600160a060020a0360443516610727565b005b341561010757600080fd5b61011c6001606060020a0319600435166108a2565b604051898152602081018990526001606060020a03198816604082015260608101879052600160a060020a038087166080830152851660a082015260c0810184905282151560e0820152610100810182600281111561017757fe5b60ff168152602001995050505050505050505060405180910390f35b8160005b6001606060020a03198216600090815260208190526040902060070154610100900460ff1660028111156101c757fe5b146101d157600080fd5b6001606060020a03198316600090815260208190526040902060018101859055428155600581018054600160a060020a0333811673ffffffffffffffffffffffffffffffffffffffff199283161790925560048301805492861692821692909217909155346006830155600280830180546c0100000000000000000000000088049316929092179091556007909101805461ff001916610100835b02179055507fd2ae53b489af667edae5247fc948af6bab36cb0ec684fb14cc114c95905f4f1982338534604051600160a060020a0394851681529290931660208301526001606060020a0319166040808301919091526060820192909252608001905180910390a15b5b50505050565b6001606060020a03198116600090815260208190526040902060018101549054829101421161030a57600080fd5b6001606060020a0319811660009081526020819052604090206007015460ff161561033457600080fd5b60025b6001606060020a03198316600090815260208190526040902060070154610100900460ff16600281111561036757fe5b14156103c5576001606060020a03198216600090815260208190526040908190206005810154600690910154600160a060020a039091169181156108fc02919051600060405180830381858888f1935050505015156103c557600080fd5b5b60015b6001606060020a03198316600090815260208190526040902060070154610100900460ff1660028111156103f957fe5b1415610457576001606060020a03198216600090815260208190526040908190206004810154600690910154600160a060020a039091169181156108fc02919051600060405180830381858888f19350505050151561045757600080fd5b5b6001606060020a0319821660009081526020819052604090819020600701805460ff191660011790557f3d2a04f53164bedf9a8a46353305d6b2d2261410406df3b41f99ce6489dc003c9042905190815260200160405180910390a15b5b5050565b80826001606060020a031982166003826000604051602001526040519081526020908101906040518083038160008661646e5a03f115156104fa57600080fd5b5050604051516c01000000000000000000000000026bffffffffffffffffffffffff191614151561052a57600080fd5b6001606060020a0319821660009081526020819052604090206001810154905401421061055657600080fd5b6001606060020a0319821660009081526020819052604090206007015460ff161561058057600080fd5b60025b6001606060020a03198416600090815260208190526040902060070154610100900460ff1660028111156105b357fe5b1415610611576001606060020a03198316600090815260208190526040908190206004810154600690910154600160a060020a039091169181156108fc02919051600060405180830381858888f19350505050151561061157600080fd5b5b60015b6001606060020a03198416600090815260208190526040902060070154610100900460ff16600281111561064557fe5b14156106a3576001606060020a03198316600090815260208190526040908190206005810154600690910154600160a060020a039091169181156108fc02919051600060405180830381858888f1935050505015156106a357600080fd5b5b6001606060020a0319831660009081526020819052604090819020600701805460ff191660011790557f82498456531a1065f689ba348ce20bda781238c424cf36748dd40bc282831e039042905190815260200160405180910390a16001606060020a0319831660009081526020819052604090206003018490555b5b50505050565b8160005b6001606060020a03198216600090815260208190526040902060070154610100900460ff16600281111561075b57fe5b1461076557600080fd5b6001606060020a031983166000908152602081905260409020600180820186905542825560028201805473ffffffffffffffffffffffffffffffffffffffff199081166c010000000000000000000000008804179091556005830180548216600160a060020a0387811691909117909155600484018054909216339091161790556007909101805461ff001916610100835b02179055506001606060020a0319831660009081526020819052604090819020346006820181905590547f8f52c15a8dda5af727677001f0ceb13df57f42198fd5cdde86a06aee80333a4b9290918791879187913391905195865260208601949094526001606060020a0319909216604080860191909152600160a060020a0391821660608601529116608084015260a083019190915260c0909101905180910390a15b5b50505050565b60006020819052908152604090208054600182015460028301546003840154600485015460058601546006870154600790970154959694956c01000000000000000000000000909402949293600160a060020a0392831693919092169160ff80821691610100900416895600a165627a7a7230582054264d7ff3736ef9a141f8a979792a740b1b87bfb3e34086317794d90875482e0029"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EthConfiguration={apihost:"http://34.215.58.192:9984/api/v1/",wshost:"ws://34.215.58.192:9985/api/v1/streams/valid_transactions",appid:"DLiUBJ8NGMh6ojuFjwAqhF4L8D2hUsSH5CCcH1X648Fe",appkey:"GgZtjS6WPDNAePNM43ZdPoJ1Ap61RU3jnsgjHqELxgHX",hosts:[{wshost:"wss://swap.altcoin.io:8550",contractAddress:"0x6d5ae9dd8f1a2582deb1b096915313459f11ba70",defaultWallet:"0xb483f5a8c6ebA74Dc1bcef9D167E6B86Caa4C773"},{wshost:"wss://swap.altcoin.io:8550",contractAddress:"0x6d5ae9dd8f1a2582deb1b096915313459f11ba70",defaultWallet:"0x21Fa313f2144f6E1348d91FbF0C6A3a5EEcC056D"}]}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.ExtractSecretParams);e.EthExtractSecretParams=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.RefundParams);e.EthRefundParams=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenAtomicSwapAbi=[{constant:!1,inputs:[{name:"_hashedSecret",type:"bytes20"},{name:"_initiator",type:"address"},{name:"_token",type:"address"},{name:"_amount",type:"uint256"}],name:"participate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_hashedSecret",type:"bytes20"},{name:"_participant",type:"address"},{name:"_token",type:"address"},{name:"_amount",type:"uint256"}],name:"initiate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_hashedSecret",type:"bytes20"}],name:"refund",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_secret",type:"bytes32"},{name:"_hashedSecret",type:"bytes20"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes20"}],name:"swaps",outputs:[{name:"initTimestamp",type:"uint256"},{name:"refundTime",type:"uint256"},{name:"hashedSecret",type:"bytes20"},{name:"secret",type:"bytes32"},{name:"initiator",type:"address"},{name:"participant",type:"address"},{name:"value",type:"uint256"},{name:"emptied",type:"bool"},{name:"state",type:"uint8"},{name:"token",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"_hashedSecret",type:"bytes20"}],name:"Refunded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_hashedSecret",type:"bytes20"}],name:"Redeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_hashedSecret",type:"bytes20"}],name:"Participated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_hashedSecret",type:"bytes20"}],name:"Initiated",type:"event"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.SecretGenerator=r.SecretGenerator},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(71);e.generateMnemonic=function(){return o.generateMnemonic()};var i=function(){function t(t){this.account=0,this.interalAddressIndex=0,this.externalAddressIndex=0,t||(t=e.generateMnemonic());o.mnemonicToSeed(t)}return t}();e.Bip44Wallet=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=0,e}return r(e,t),e}(i);e.BitcoinBip44Wallet=a;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=60,e}return r(e,t),e}(i);e.EthBip44Wallet=c},function(t,e){t.exports=require("bip39")},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(73)),r(n(37))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(74),i=n(37),a=n(75),c=n(76),s=n(77),u=n(78),f=n(79),p=n(80),d=n(81),l=n(82),h=n(83),y=n(84),b=n(85),_=n(86),v=n(87);!function(t){t[t.AUGUR=1]="AUGUR",t[t.GOLEM=2]="GOLEM",t[t.GNOSIS=3]="GNOSIS",t[t.BAT=4]="BAT",t[t.ARAGON=5]="ARAGON",t[t.EOS=6]="EOS",t[t.SALT=7]="SALT",t[t.CIVIC=8]="CIVIC",t[t.OMISEGO=9]="OMISEGO",t[t.DISTRICT0X=10]="DISTRICT0X",t[t.STATUSNETWORK=11]="STATUSNETWORK",t[t.SUBSTRATUM=12]="SUBSTRATUM",t[t.TRON=13]="TRON",t[t.BYTOM=14]="BYTOM",t[t.DENT=15]="DENT"}(r=e.TOKENS||(e.TOKENS={}));var m=function(){function t(){}return t.GetToken=function(t,e,n){if(void 0===n&&(n=!0),!n)return this.GetTokenMain(t,e);switch(t){case r.GOLEM:return new u.GolemTokenTestnet(e);case r.AUGUR:return new i.AugurTokenTestnet(e);case r.GNOSIS:return new s.GnosisTokenTestnet(e);case r.BAT:return new a.BatTokenTestnet(e);case r.ARAGON:return new o.AragonTokenTestnet(e);case r.EOS:return new c.EosTokenTestnet(e);case r.SALT:return new f.SaltTokenTestnet(e);case r.CIVIC:return new p.CivicTokenTestnet(e);case r.OMISEGO:return new d.OmiseGoTokenTestnet(e);case r.DISTRICT0X:return new l.District0xTokenTestnet(e);case r.STATUSNETWORK:return new h.StatusNetworkTokenTestnet(e);case r.SUBSTRATUM:return new y.SubstratumTokenTestnet(e);case r.TRON:return new b.TronTokenTestnet(e);case r.BYTOM:return new _.BytomTokenTestnet(e);case r.DENT:return new v.DentTokenTestnet(e)}},t.GetTokenMain=function(t,e){switch(t){case r.GOLEM:return new u.GolemTokenMainnet(e);case r.AUGUR:return new i.AugurTokenMainnet(e);case r.GNOSIS:return new s.GnosisTokenMainnet(e);case r.BAT:return new a.BatTokenMainnet(e);case r.ARAGON:return new o.AragonTokenMainnet(e);case r.EOS:return new c.EosTokenMainnet(e);case r.SALT:return new f.SaltTokenMainnet(e);case r.CIVIC:return new p.CivicTokenMainnet(e);case r.OMISEGO:return new d.OmiseGoTokenMainnet(e);case r.DISTRICT0X:return new l.District0xTokenMainnet(e);case r.STATUSNETWORK:return new h.StatusNetworkTokenMainnet(e);case r.SUBSTRATUM:return new y.SubstratumTokenMainnet(e);case r.TRON:return new b.TronTokenMainnet(e);case r.BYTOM:return new _.BytomTokenMainnet(e);case r.DENT:return new v.DentTokenTestnet(e)}},t}();e.TokenFactory=m},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Aragon.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.AragonTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Aragon.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.AragonTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Bat.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.BatTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Bat.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.BatTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Eos.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.EosTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Eos.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.EosTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Gnosis.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.GnosisTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Gnosis.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.GnosisTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Golem.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.GolemTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Golem.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.GolemTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Salt.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.SaltTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Salt.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.SaltTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Civic.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.CivicTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Civic.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.CivicTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.OmiseGo.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.OmiseGoTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.OmiseGo.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.OmiseGoTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.District0x.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.District0xTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.District0x.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.District0xTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.StatusNetwork.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.StatusNetworkTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.StatusNetwork.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.StatusNetworkTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Substratum.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.SubstratumTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Substratum.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.SubstratumTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Tron.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.TronTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Tron.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.TronTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Bytom.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.BytomTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Bytom.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.BytomTokenMainnet=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),c=function(t){function e(e){return t.call(this,o.TokenConfig.Dent.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.DentTokenTestnet=c;var s=function(t){function e(e){return t.call(this,a.TokenConfigMain.Dent.contractAddress,e)||this}return r(e,t),e}(i.TokenAtomicSwap);e.DentTokenMainnet=s},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(89)),r(n(90))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),i=function(t){function e(){return t.call(this,"testnet")||this}return r(e,t),e}(o.BitcoinWallet);e.DcrWalletTestNet=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(16),i=function(t){function e(e){return t.call(this,"testnet")||this}return r(e,t),e}(o.BtcAtomicSwap);e.DcrAtomicSwapTestnet=i}]);
//# sourceMappingURL=index.js.map